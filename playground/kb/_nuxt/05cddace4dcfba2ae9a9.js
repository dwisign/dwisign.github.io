(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{358:function(t,n,e){"use strict";e.r(n);var o=e(3),r=(e(75),e(30)),d={layout:"admin-inside",data:function(){return{kat_bidang_studi:{nama_kat_bidang_studi:"",path_icon:"avatar.png",selectedFiles:void 0},fileUpload:"",notification_unread:[]}},mounted:function(){var t=this;this.$axios.get("/api/v/1/mstkatbidstud/find/".concat(this.$route.params.id)).then((function(n){t.kat_bidang_studi.nama_kat_bidang_studi=n.data.data.nama_kat_bidang_studi,t.kat_bidang_studi.path_icon=n.data.data.path_icon})).catch((function(t){console.log(t.response.data)})),this.$axios.get("/api/v/1/notif/foradmin/unread").then((function(n){t.notification_unread=n.data.data})).catch((function(t){console.log(t.response.data)}))},methods:{onFileChange:function(t){console.log(this.kat_bidang_studi.path_icon);var n=t.target.files[0];this.kat_bidang_studi.path_icon=URL.createObjectURL(n),this.selectedFiles=this.$refs.file.files},upload:function(t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function t(){var e,o;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return(e=new FormData).append("icon",n.selectedFiles.item(0)),t.prev=2,t.next=5,n.$axios.post("/api/v/1/mstkatbidstud/icon",e,{headers:{"Content-Type":"multipart/form-data"}});case 5:o=t.sent,console.log(" output >>>> ",o.data.data[0].path_photo),n.fileUpload=o.data.data[0].path_photo,n.$router.push({path:"/admin/master/katbidangstudi/".concat(n.$route.params.id)}),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,11]])})))()},save:function(t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,n.$axios.put("/api/v/1/mstkatbidstud/update/".concat(n.$route.params.id),Object(o.a)({nama_kat_bidang_studi:n.kat_bidang_studi.nama_kat_bidang_studi,path_icon:n.kat_bidang_studi.path_icon},"path_icon",n.fileUpload)).then((function(){n.$router.push("/admin/master/katbidangstudi")})).catch((function(t){console.log(t)}));case 3:case"end":return e.stop()}}),e)})))()}}},c=e(33),component=Object(c.a)(d,(function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"users-wrap"},[e("div",{staticClass:"lonceng"},[e("b-button",{attrs:{variant:"default",to:"/admin/notification"}},[e("b-icon",{attrs:{icon:"bell"}}),t.notification_unread.length?e("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.notification_unread.length))]):t._e()],1)],1),t._v(" "),e("b-row",[e("b-col",{attrs:{md:"8"}},[e("h4",[e("b-icon",{attrs:{icon:"person"}}),t._v(" Update Kategori Bidang Studi")],1)]),t._v(" "),e("b-col",{staticClass:"text-right",attrs:{md:"4"}},[e("b-button",{attrs:{pill:"",variant:"info",to:"/admin/master/katbidangstudi/"}},[e("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back")],1)],1)],1),t._v(" "),e("b-container",{staticClass:"mt-5",attrs:{fluid:""}},[e("b-card",[e("b-row",[e("b-col",{attrs:{md:"6","offset-md":"3"}},[e("b-form",{staticClass:"mt-5",on:{submit:t.save}},[e("b-card",[e("div",{staticClass:"card text-center p-5",staticStyle:{cursor:"pointer"},on:{click:function(n){return t.$refs.file.click()}}},[e("b-img",{attrs:{center:"",src:t.kat_bidang_studi.path_icon,rounded:"circle",alt:"Icon Kategori",width:"80",height:"80"}}),t._v(" "),e("b-img",{staticStyle:{"margin-top":"-80px"},attrs:{center:"",src:t.$axios.defaults.baseURL+"/"+t.kat_bidang_studi.path_icon,rounded:"circle",alt:"_",width:"80",height:"80"}}),t._v(" "),e("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",required:""},on:{change:t.onFileChange}}),e("br"),t._v(" "),e("p",{staticClass:"small pt-3"},[t._v("Click this area to browse photo from your local computer")])],1),t._v(" "),e("b-form-group",{staticClass:"mt-4 text-center"},[e("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.upload}},[t._v("Upload")])],1)],1),t._v(" "),e("br"),t._v(" "),e("b-form-group",{attrs:{id:"input-group-1",label:"Nama Kategori Bidang Studi:","label-for":"kat_bidang_studi"}},[e("b-form-input",{attrs:{id:"kat_bidang_studi",required:""},model:{value:t.kat_bidang_studi.nama_kat_bidang_studi,callback:function(n){t.$set(t.kat_bidang_studi,"nama_kat_bidang_studi",n)},expression:"kat_bidang_studi.nama_kat_bidang_studi"}})],1),t._v(" "),e("b-form-group",{staticClass:"mt-4 text-right"},[e("b-button",{attrs:{type:"submit"}},[t._v("Save")])],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports}}]);