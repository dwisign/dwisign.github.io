(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{352:function(t,n,o){"use strict";o.r(n);var e,r=o(3),_=(o(75),o(30)),d=(e={layout:"admin-inside",data:function(){return{booking_detail:{nama_murid:"",nama_jenis_booking:"",nama_paket:"",nama_bidang_studi:"",nama_kat_bidang_studi:"",tingkat_pendidikan:"",nama_guru:"",jumlah_peserta:"",total_pertemuan:"",total_pembayaran:"",status_transaksi_name:"",lokasi:"",detail:"",payment:"",id_booking:"",with_refund:""},notification_unread:[],optionsStatusRefund:[{text:"No Refund",value:0},{text:"With Refund",value:1}]}},mounted:function(){var t=this;console.log(this.booking_detail.payment),this.$axios.get("/api/v/1/guru/booking/find/by/".concat(this.$route.params.id)).then((function(n){t.booking_detail.nama_murid=n.data.data.nama_murid,t.booking_detail.nama_jenis_booking=n.data.data.nama_jenis_booking,t.booking_detail.nama_paket=n.data.data.nama_paket,t.booking_detail.nama_bidang_studi=n.data.data.nama_bidang_studi,t.booking_detail.nama_kat_bidang_studi=n.data.data.nama_kat_bidang_studi,t.booking_detail.tingkat_pendidikan=n.data.data.tingkat_pendidikan,t.booking_detail.nama_guru=n.data.data.nama_guru,t.booking_detail.jumlah_peserta=n.data.data.jumlah_peserta,t.booking_detail.total_pertemuan=n.data.data.total_pertemuan,t.booking_detail.total_pembayaran=n.data.data.total_pembayaran,t.booking_detail.status_transaksi_name=n.data.data.status_transaksi_name,t.booking_detail.lokasi=n.data.data.lokasi,t.booking_detail.detail=n.data.data.detail,t.booking_detail.payment=n.data.data.payment,t.booking_detail.id_booking=n.data.data.id_booking,t.booking_detail.with_refund=n.data.data.with_refund}))}},Object(r.a)(e,"mounted",(function(){var t=this;this.$axios.get("/api/v/1/notif/foradmin/unread").then((function(n){t.notification_unread=n.data.data})).catch((function(t){console.log(t.response.data)}))})),Object(r.a)(e,"methods",{save:function(t){var n=this;return Object(_.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),o.next=3,n.$axios.put("/api/v/1/guru/booking/admin/confirm/payment",{id_booking:n.booking_detail.id_booking}).then((function(){n.$router.push("/admin/booking/konfirmasi/")})).catch((function(t){console.log(t)}));case 3:case"end":return o.stop()}}),o)})))()},cancel:function(t){var n=this;return Object(_.a)(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return t.preventDefault(),o.next=3,n.$axios.put("/api/v/1/guru/booking/admin/update/cancel",{id_booking:n.booking_detail.id_booking,with_refund:n.booking_detail.with_refund}).then((function(){n.$router.push("/admin/booking/konfirmasi/")})).catch((function(t){console.log(t)}));case 3:case"end":return o.stop()}}),o)})))()}}),e),l=o(33),component=Object(l.a)(d,(function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("div",[o("div",{staticClass:"lonceng"},[o("b-button",{attrs:{variant:"default",to:"/admin/notification"}},[o("b-icon",{attrs:{icon:"bell"}}),t.notification_unread.length?o("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.notification_unread.length))]):t._e()],1)],1),t._v(" "),o("b-row",[o("b-col",{attrs:{md:"8"}},[o("h4",[o("b-icon",{attrs:{icon:"calendar2-check"}}),t._v(" Booking Konfirmasi Detail")],1)]),t._v(" "),o("b-col",{staticClass:"text-right",attrs:{md:"4"}},[o("b-button",{attrs:{pill:"",variant:"info",to:"/admin/booking/konfirmasi"}},[o("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back")],1)],1)],1),t._v(" "),o("b-row",{staticClass:"mt-5"},[o("b-col",{attrs:{md:"9"}},[o("b-tabs",{attrs:{"content-class":"mt-3",align:"left"}},[o("b-tab",{attrs:{title:"Booking Detail",active:""}},[o("b-card",{staticClass:"p-5"},[o("b-row",[o("b-col",{attrs:{md:"8"}},[o("table",{staticClass:"table"},[o("tbody",[o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Dibooking Oleh")]),t._v(" "),o("td",[t._v(t._s(t.booking_detail.nama_murid))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Jenis Booking")]),t._v(" "),o("td",[t._v(t._s(t.booking_detail.nama_jenis_booking))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Nama Pengajar")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.nama_guru))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Nama Paket")]),t._v(" "),o("td",[t._v(t._s(t.booking_detail.nama_paket))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Bidang Studi")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.nama_bidang_studi))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Kategori Bidang Studi")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.nama_kat_bidang_studi))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Tingkat Pendidikan")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.tingkat_pendidikan))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Jumlah Peserta")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.jumlah_peserta))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Jumlah Pertemuan")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.total_pertemuan))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Lokasi")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.lokasi))])])])])]),t._v(" "),o("b-col",{attrs:{md:"4"}},[o("b-card",[o("b-button",{attrs:{block:"",disabled:"",squared:"",variant:"outline-secondary"}},[t._v(t._s(t.booking_detail.status_transaksi_name))]),o("br"),t._v(" "),o("hr"),t._v(" "),o("p",{staticClass:"small"},[t._v("TOTAL PEMBAYARAN")]),t._v(" "),o("h2",[o("b",[t._v("Rp."+t._s(t.booking_detail.total_pembayaran))])])],1)],1)],1)],1)],1),t._v(" "),o("b-tab",{attrs:{title:"Detail Pertemuan"}},[o("b-card",{staticClass:"p-5"},t._l(t.booking_detail.detail,(function(n){return o("b-card",{key:n.id_booking_detail,staticClass:"mb-3"},[o("table",{staticClass:"table"},[o("thead",[o("tr",[o("th",{attrs:{scope:"col"}},[t._v("Tanggal Pertemuan")]),t._v(" "),o("th",{attrs:{scope:"col"}},[t._v("Waktu Mulai")]),t._v(" "),o("th",{attrs:{scope:"col"}},[t._v("Waktu Selesai")]),t._v(" "),o("th",{attrs:{scope:"col"}},[t._v("Status")])])]),t._v(" "),o("tbody",[o("tr",[o("td",[t._v(t._s(n.tanggal_pertemuan))]),t._v(" "),o("td",[t._v(t._s(n.waktu_mulai_text))]),t._v(" "),o("td",[t._v(t._s(n.waktu_selesai_text))]),t._v(" "),o("td",[t._v(t._s(n.status_mengajar_name))])])])])])})),1)],1),t._v(" "),o("b-tab",{attrs:{title:"Bukti Pembayaran"}},[o("b-card",{staticClass:"p-5"},[o("b-row",[o("b-col",{attrs:{md:"7"}},[o("table",{staticClass:"table"},[o("tbody",[o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Nama Bank")]),t._v(" "),o("td",[t._v(t._s(t.booking_detail.payment.source_bank_name))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Nama Pemilik Rekening")]),t._v(" "),o("td",[t._v(t._s(t.booking_detail.payment.source_account_name))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Nomor Rekening")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.payment.source_account_number))])]),t._v(" "),o("tr",[o("th",{attrs:{scope:"row"}},[t._v("Jumlah Pembayaran")]),t._v(" "),o("td",{attrs:{colspan:"2"}},[t._v(t._s(t.booking_detail.payment.jumlah_pembayaran))])])])])]),t._v(" "),o("b-col",{attrs:{md:"5"}},[o("b-card",[o("p",[t._v("BUKTI PEMBAYARAN")]),t._v(" "),o("img",{attrs:{src:t.$axios.defaults.baseURL+"/"+t.booking_detail.payment.path_photo_payment,width:"100%"}})])],1)],1)],1)],1)],1)],1),t._v(" "),o("b-col",{attrs:{md:"3"}},[o("b-card",{staticClass:"mt-5"},[o("b-form",{on:{submit:t.save}},[o("b-row",[o("b-col",{attrs:{"cols-12":""}},[o("div",{staticClass:"form-group"},[o("p",[o("b",[t._v("Verifikasi Pembayaran:")])]),t._v(" "),o("p",{staticClass:"small"},[t._v("Silakan cek dokumen informasi booking dan bukti pembayaran disamping untuk selanjutnya disetujui sebagai order yang sah. Tekan tombol Setuju dibawah ini untuk menyetujuinya")]),t._v(" "),o("hr"),t._v(" "),o("b-button",{staticClass:"btn-block",attrs:{pill:"",variant:"primary",type:"submit"}},[t._v(" Setuju")]),o("hr")],1)])],1)],1),t._v(" "),o("b-form",{on:{submit:t.cancel}},[o("b-row",{staticClass:"mt-3"},[o("b-col",{attrs:{"cols-12":""}},[o("b-form-group",{attrs:{label:""},scopedSlots:t._u([{key:"default",fn:function(n){var e=n.ariaDescribedby;return[o("b-form-radio-group",{attrs:{options:t.optionsStatusRefund,"aria-describedby":e,name:"radio-inline-status",required:""},model:{value:t.booking_detail.with_refund,callback:function(n){t.$set(t.booking_detail,"with_refund",n)},expression:"booking_detail.with_refund"}})]}}])}),t._v(" "),o("div",{staticClass:"form-group"},[o("b-button",{staticClass:"btn-block",attrs:{pill:"",variant:"outline-secondary",type:"submit"}},[t._v(" Batalkan Booking")])],1)],1)],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports}}]);