(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{325:function(t,e,n){"use strict";n.r(e);n(75);var o=n(30),r={layout:"admin-inside",data:function(){return{bidang_studi:[],notification_unread:[],fields:[{key:"nama_bidang_studi",label:"Nama Bidang Studi",sortable:!0,sortDirection:"desc"},{key:"nama_kategori",label:"Kategori Bidang Studi",sortable:!0,sortDirection:"desc"},{key:"actions",label:"Actions"}],totalRows:"",currentPage:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],sortBy:"",sortDesc:!1,sortDirection:"asc",filter:null,filterOn:[],show:!0}},computed:{sortOptions:function(){return this.fields.filter((function(t){return t.sortable})).map((function(t){return{text:t.label,value:t.key}}))}},mounted:function(){var t=this;this.$axios.get("/api/v/1/bidstud/findall?_page=".concat(this.currentPage,"&_limit=").concat(this.perPage)).then((function(e){t.bidang_studi=e.data.data,t.totalRows=t.bidang_studi.length})).catch((function(t){console.log(t.response.data)})),this.$axios.get("/api/v/1/notif/foradmin/unread").then((function(e){t.notification_unread=e.data.data})).catch((function(t){console.log(t.response.data)}))},methods:{deletePost:function(t){var e=this;return Object(o.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return console.log(t.item.id_bidang_studi),n.next=3,e.$axios.$delete("/api/v/1/bidstud/delete",{data:{id_bidang_studi:t.item.id_bidang_studi}}).then((function(){e.bidang_studi.splice(t.index,1)})).catch((function(t){console.log(t.response.data)}));case 3:case"end":return n.stop()}}),n)})))()},onFiltered:function(t){this.totalRows=t.length,this.currentPage=1}}},l=n(33),component=Object(l.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"lonceng"},[n("b-button",{attrs:{variant:"default",to:"/admin/notification"}},[n("b-icon",{attrs:{icon:"bell"}}),t.notification_unread.length?n("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.notification_unread.length))]):t._e()],1)],1),t._v(" "),n("b-row",[n("b-col",{attrs:{md:"8"}},[n("h4",[n("b-icon",{attrs:{icon:"collection"}}),t._v(" Master Bidang Studi")],1)]),t._v(" "),n("b-col",{staticClass:"text-right",attrs:{md:"4"}},[n("b-button",{attrs:{pill:"",variant:"info",to:"/admin/master/bidangstudi/add"}},[n("b-icon",{attrs:{icon:"plus-circle-fill"}}),t._v(" Add Bidang Studi")],1)],1)],1),t._v(" "),n("b-container",{staticClass:"mt-5",attrs:{fluid:""}},[n("b-row",{staticClass:"mb-5",attrs:{"align-h":"between"}},[n("b-col",{attrs:{md:"3"}},[n("b-form-group",[n("b-input-group",{attrs:{size:"sm"}},[n("b-form-input",{attrs:{id:"filter-input",type:"search",placeholder:"Type to Search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),t._v(" "),n("b-input-group-append",[n("b-button",{attrs:{disabled:!t.filter,variant:"info"},on:{click:function(e){t.filter=""}}},[t._v("Clear")])],1)],1)],1)],1),t._v(" "),n("b-col",{attrs:{md:"3"}},[n("b-form-group",{staticClass:"mb-0",attrs:{label:"Per page","label-for":"per-page-select","label-cols-sm":"6","label-cols-md":"4","label-cols-lg":"3","label-align-sm":"right","label-size":"sm"}},[n("b-form-select",{attrs:{id:"per-page-select",options:t.pageOptions,size:"sm"},model:{value:t.perPage,callback:function(e){t.perPage=e},expression:"perPage"}})],1)],1)],1),t._v(" "),n("b-table",{attrs:{items:t.bidang_studi,fields:t.fields,"current-page":t.currentPage,"per-page":t.perPage,filter:t.filter,"filter-included-fields":t.filterOn,"sort-by":t.sortBy,"sort-desc":t.sortDesc,"sort-direction":t.sortDirection,stacked:"md","show-empty":"",small:""},on:{"update:sortBy":function(e){t.sortBy=e},"update:sort-by":function(e){t.sortBy=e},"update:sortDesc":function(e){t.sortDesc=e},"update:sort-desc":function(e){t.sortDesc=e},filtered:t.onFiltered},scopedSlots:t._u([{key:"cell(actions)",fn:function(e){return[n("b-dropdown",{attrs:{size:"sm",id:"dropdown-left",variant:"light"}},[n("b-dropdown-item",{attrs:{to:{name:"admin-master-bidangstudi-id",params:{id:e.item.id_bidang_studi}}}},[t._v("Update")]),t._v(" "),n("b-dropdown-item",{on:{click:function(n){return t.deletePost(e)}}},[t._v("Delete")])],1)]}}])}),t._v(" "),n("b-row",{staticClass:"mt-5 mb-5",attrs:{"align-h":"end"}},[n("b-col",{attrs:{md:"3"}},[n("b-pagination",{staticClass:"my-0",attrs:{"total-rows":t.totalRows,"per-page":t.perPage,align:"fill",size:"sm"},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)],1)],1)],1)}),[],!1,null,null,null);e.default=component.exports}}]);