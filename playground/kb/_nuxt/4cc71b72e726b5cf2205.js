(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{363:function(t,n,r){"use strict";r.r(n);var e=r(3),o=(r(75),r(30)),l={layout:"admin-inside",data:function(){return{withdrawal:{tgl_transaksi:"",nama_guru_penerima:"",nama_murid_penerima:"",tipe_transaksi:"",bank_tujuan:"",rekening_tujuan:"",jumlah_transaksi:"",saldo_final_penerima:"",biaya_langganan:"",status_transaksi_name:"",path_photo:"avatar.png",selectedFiles:void 0},notification_unread:[],fileUpload:""}},mounted:function(){var t=this;this.$axios.get("/api/v/1/saldo/find/".concat(this.$route.params.id)).then((function(n){t.withdrawal.tgl_transaksi=n.data.data.tgl_transaksi,t.withdrawal.nama_guru_penerima=n.data.data.nama_guru_penerima,t.withdrawal.nama_murid_penerima=n.data.data.nama_murid_penerima,t.withdrawal.tipe_transaksi=n.data.data.tipe_transaksi,t.withdrawal.bank_tujuan=n.data.data.bank_tujuan,t.withdrawal.rekening_tujuan=n.data.data.rekening_tujuan,t.withdrawal.jumlah_transaksi=n.data.data.jumlah_transaksi,t.withdrawal.saldo_final_penerima=n.data.data.saldo_final_penerima,t.withdrawal.biaya_langganan=n.data.data.biaya_langganan,t.withdrawal.status_transaksi_name=n.data.data.status_transaksi_name,t.withdrawal.path_photo=n.data.data.path_photo,t.withdrawal.id_transaksi=n.data.data.id_transaksi})).catch((function(t){console.log(t.response.data)})),this.$axios.get("/api/v/1/notif/foradmin/unread").then((function(n){t.notification_unread=n.data.data})).catch((function(t){console.log(t.response.data)}))},methods:{onFileChange:function(t){console.log(this.withdrawal.path_photo);var n=t.target.files[0];this.withdrawal.path_photo=URL.createObjectURL(n),this.selectedFiles=this.$refs.file.files},upload:function(t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var r,e;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("test line 99"),(r=new FormData).append("photo",n.selectedFiles.item(0)),t.prev=3,t.next=6,n.$axios.post("/api/v/1/saldo/photo",r,{headers:{"Content-Type":"multipart/form-data"}});case 6:e=t.sent,console.log(" output >>>> ",e),n.fileUpload=e.data.data[0].path_photo,n.$router.push({path:"/admin/penarikan/konfirmasi/".concat(n.$route.params.id)}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(3),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[3,12]])})))()},save:function(t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),console.log(n.withdrawal.path_photo),r.next=4,n.$axios.put("/api/v/1/saldo/update/confirm",Object(e.a)({id_transaksi:n.withdrawal.id_transaksi,path_photo:n.withdrawal.path_photo},"path_photo",n.fileUpload)).then((function(){n.$router.push("/admin/penarikan/konfirmasi/")})).catch((function(t){console.log(t)}));case 4:case"end":return r.stop()}}),r)})))()},cancel:function(t){var n=this;return Object(o.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return t.preventDefault(),r.next=3,n.$axios.put("/api/v/1/saldo/update/cancel",{id_transaksi:n.withdrawal.id_transaksi}).then((function(){n.$router.push("/admin/penarikan/konfirmasi/")})).catch((function(t){console.log(t)}));case 3:case"end":return r.stop()}}),r)})))()}}},c=r(33),component=Object(c.a)(l,(function(){var t=this,n=t.$createElement,r=t._self._c||n;return r("div",[r("div",{staticClass:"lonceng"},[r("b-button",{attrs:{variant:"default",to:"/admin/notification"}},[r("b-icon",{attrs:{icon:"bell"}}),t.notification_unread.length?r("b-badge",{attrs:{variant:"danger"}},[t._v(t._s(t.notification_unread.length))]):t._e()],1)],1),t._v(" "),r("b-row",[r("b-col",{attrs:{md:"8"}},[r("h4",[r("b-icon",{attrs:{icon:"calendar2-check"}}),t._v(" Penarikan Tertunda Detail")],1)]),t._v(" "),r("b-col",{staticClass:"text-right",attrs:{md:"4"}},[r("b-button",{attrs:{pill:"",variant:"info",to:"/admin/penarikan/konfirmasi"}},[r("b-icon",{attrs:{icon:"arrow-left"}}),t._v(" Back")],1)],1)],1),t._v(" "),r("b-row",{staticClass:"mt-5"},[r("b-col",{attrs:{md:"9"}},[r("b-tabs",{attrs:{"content-class":"mt-3",align:"left"}},[r("b-tab",{attrs:{title:"Penarikan Tertunda Detail",active:""}},[r("b-card",{staticClass:"p-5"},[r("b-row",[r("b-col",{attrs:{md:"8"}},[r("table",{staticClass:"table"},[r("tbody",[r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Tanggal Permintaan Penarikan")]),t._v(" "),r("td",[t._v(t._s(t.withdrawal.tgl_transaksi))])]),t._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Nama Guru Penerima")]),t._v(" "),r("td",[t._v(t._s(t.withdrawal.nama_guru_penerima))])]),t._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Nama Murid Penerima")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t.withdrawal.nama_murid_penerima))])]),t._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Tipe Transaksi")]),t._v(" "),r("td",[t._v(t._s(t.withdrawal.tipe_transaksi))])]),t._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Bank Tujuan")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t.withdrawal.bank_tujuan))])]),t._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Rekening Tujuan")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t.withdrawal.rekening_tujuan))])]),t._v(" "),r("tr",[r("th",{attrs:{scope:"row"}},[t._v("Jumlah Transaksi")]),t._v(" "),r("td",{attrs:{colspan:"2"}},[t._v(t._s(t.withdrawal.jumlah_transaksi))])])])])]),t._v(" "),r("b-col",{attrs:{md:"4"}},[r("b-card",[r("b-button",{attrs:{block:"",disabled:"",squared:"",variant:"outline-secondary"}},[t._v(t._s(t.withdrawal.status_transaksi_name))]),r("br"),t._v(" "),r("hr"),t._v(" "),r("p",{staticClass:"small"},[t._v("TOTAL PENARIKAN")]),t._v(" "),r("h2",[r("b",[t._v("Rp."+t._s(t.withdrawal.jumlah_transaksi))])])],1)],1)],1)],1)],1),t._v(" "),r("b-tab",{attrs:{title:"Upload Bukti Pembayaran"}},[r("b-card",[r("div",{staticClass:"card text-center mt-5 p-5",on:{click:function(n){return t.$refs.file.click()}}},[r("b-img",{staticStyle:{cursor:"pointer",width:"100%"},attrs:{center:"",src:t.withdrawal.path_photo}}),t._v(" "),r("b-img",{staticStyle:{cursor:"pointer"},attrs:{center:"",rounded:"circle",alt:"Click here to browse image from your local computer"}}),t._v(" "),r("input",{ref:"file",staticStyle:{display:"none"},attrs:{type:"file",accept:"image/*",required:""},on:{change:t.onFileChange}}),r("br")],1),t._v(" "),r("b-form-group",{staticClass:"mt-4 text-center"},[r("b-button",{attrs:{variant:"outline-secondary"},on:{click:t.upload}},[t._v("Upload")])],1)],1)],1)],1)],1),t._v(" "),r("b-col",{attrs:{md:"3"}},[r("b-card",{staticClass:"mt-5"},[r("b-form",{on:{submit:t.save}},[r("b-row",[r("b-col",{attrs:{"cols-12":""}},[r("p",[r("b",[t._v("Konfirmasi Penarikan:")])]),t._v(" "),r("p",{staticClass:"small"},[t._v("Silakan cek informasi penarikan dan upload bukti pembayaran disamping untuk selanjutnya konfirmasi penarikan dana dari guru atau murid. Tekan tombol Setuju dibawah ini untuk menyetujuinya")]),t._v(" "),r("hr"),t._v(" "),r("b-button",{staticClass:"btn-block",attrs:{type:"submit",pill:"",variant:"primary"}},[t._v("Setuju")])],1)],1)],1),t._v(" "),r("b-form",{on:{submit:t.cancel}},[r("b-row",{staticClass:"mt-3"},[r("b-col",{attrs:{"cols-12":""}},[r("div",{staticClass:"form-group"},[r("b-button",{staticClass:"btn-block",attrs:{pill:"",variant:"outline-secondary",type:"submit"}},[t._v(" Batalkan Penarikan")])],1)])],1)],1)],1)],1)],1)],1)}),[],!1,null,null,null);n.default=component.exports}}]);